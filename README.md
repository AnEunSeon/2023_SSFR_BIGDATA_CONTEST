# 자동차보험 고객 사고율 예측

**기간** 2023.09~2023.11 (3개월)

**참여 인원** 4명

**수상** 제2회 삼성화재X포스텍 빅데이터 기반 리스크 관리 경진대회 대상 수상

## 📌 개요

---

- **문제 정의**
    - 타 보험 상품에 비해 손해율이 높은 자동차보험으로 인해 손해보험사의 손해율이 증가
    - 손해율을 관리하기 위해 자동차보험 상품에 대한 선제적 대응 방안 마련이 필요
    - 자동차보험 고객의 사고율 예측을 통해 사고 요인을 분석하고 선제적 대응 방안에 대한 아이디어 도출
- **결과물**
    - 자동차보험 고객 사고율 예측 모델
    - 자동차보험 고객 사고 요인 분석 및 인사이트
    - 자동차보험 관련 선제적인 대응 방안
- **분석 도구**
    - Python, Tableau
- **역할**
    - 데이터 전처리 및 EDA
    - 로지스틱 회귀분석
    - 앙상블 분석/모델링
    - 발표 자료 제작 (보고서, PPT)

## 📌 분석 과정

### 1. 데이터 전처리

---

- **활용 데이터**
    - 자동차보험 고객 데이터 (삼성화재 제공)
    - 13개의 칼럼과 267,777개의 행으로 구성된 데이터셋
    - 자동차보험에 가입한 고객의 정보를 포함
- **전처리**
    - 분석 대상 선정: 사고율을 계산할 수 없는 행 제거 (유효대수가 0인 경우)
    - 이상치 제거: 피보험자연령대가 10대 이하, 90대 이상인 경우를 이상치로 판단
    - 변수 제거: 다른 변수와 유사하거나 중복되는 의미를 갖는 변수 제거
    - 자료형 변환: 문자형인 범주형 자료에 대해 Ordinal Encoding, Label encoding, One-hot Encoding 진행
    - 파생변수 생성: 사고율 변수 생성

### 2. EDA

---

- **스피어만 상관관계**

![Image](https://github.com/user-attachments/assets/74b0238d-6908-4784-ba31-2ddf9cb46f5e)

: 피보험자연령대와 가입경력 간 높은 양의 상관관계를 가짐 → 나이가 많을수록 가입 년수가 늘어나기 때문이라고 판단

: 예측 모델링 과정에서 다중공선성, 변수 중요도 왜곡 문제를 방지하고자 가입경력 변수 제거

- **사고율 분포 시각화**
![Image](https://github.com/user-attachments/assets/fe3da506-b7c4-43b0-87d6-4dcfc0e28711)

: 사고율이 0에 치우쳐져 있는 왜도가 높은 분포 형태

: 대부분의 고객의 사고율이 0과 1 사이에 위치해 있으나, 2 이상의 관측치가 존재 

: 사고율을 특정 분포로 가정하는 것이 어렵기 때문에 분포 가정이 필요 없는 모델을 사용해 사고율을 예측하는 것이 효과적일 것으로 판단

### 3. 로지스틱 회귀 분석

---

- **로지스틱 회귀 분석**
    - 예측에 활용할 변수 선택 및 저위험군, 고위험군 고객 분류를 위해 사용
    - VIF를 통해 변수 간 다중공선성 확인
    - 로지스틱 회귀 분석 결과의 변수 유의성 확인
- **모델 평가**
![Image](https://github.com/user-attachments/assets/23b82ed3-c401-4726-9533-d030a8c91240)
: 사고 위험이 높은 고위험군 고객 분류가 정확하게 이루어지지 않음

: 클래스 불균형과 고위험군 고객 분류에 중요한 고객 특성이 데이터에 부재하기 때문인 것으로 이해

### 4. 앙상블 분석 / 머신러닝 모델링

---

- **고객군 별 사고율 예측 회귀 트리 모델 학습**
    - 분포 가정이 필요하지 않고 결과에 대한 해석이 용이하기 때문
    - Gradient Boosting, Decision Tree, Random forest 회귀 트리 모델들로 예측 모델 학습
- **앙상블 기법을 적용한 사고율 예측 모델 개발**
    - 개별 모델보다 성능을 높이고 안정된 예측값을 도출하기 위함
    - Voting 방법을 사용해 각 회귀 트리 모델의 예측값의 평균을 최종 예측값으로 활용
- **모델 평가**
    - 모델 예측 성능: (nmrse 기준) 0.10
- **모델 해석**
    - Feature Importance: 예측에 중요하게 작용한 변수 확인
    - SHAP Value: 변수가 예측값에 기여한 정도를 확인


: 직전3년간사고건수, 피보험자연령대, 차량경과년수, 차종, 마일리지약정거리가 사고율 예측에 많은 영향을 미친 변수임을 확인

: 직전3년간사고건수가 낮으면 사고율의 값이 낮게, 직전3년간사고건수가 높으면 사고율의 값이 높게 예상되는 경향이 뚜렷함

: 피보험자연령대가 높으면 사고율의 값이 높게, 마일리지약정거리가 짧으면 사고율의 값이 낮게 예상되는 경향을 보임

## 📌 결론

---

- **자동차보험 고객 사고율 예측 모델 개발**
    - 고객 정보를 활용해 사고 위험이 높은 고객을 미리 감지할 수 있는 모델을 개발
- **고객 사고 요인 분석 및 인사이트**
    - 다른 요인들에 비해 사고 이력을 유추해볼 수 있는 직전3년간사고건수가 예측에 중요
    - 각 고객의 SHAP Value를 이용해 고객이 높은 사고율을 갖게 되는 사고 요인을 분석
- **자동차보험 관련 선제적인 대응 방안**
    - 예상 사고율 결과를 기반으로 보험 인수 심사 결과 고도화: 고객 정보와 사고율 예측 결과를 종합한 고객 대시보드를 통한 고객 세분화 및 맞춤 심사 기준 적용, 담보 내용 조정 제안
    - 사고율이 낮은 우량 고객 유치를 위한 할인 특약 상품 개발 인사이트 도출: 예상 사고율이 낮아지는 고객의 특징을 활용해 할인 특약 상품 개발

## 📌 배운 점

---

- **데이터 전처리와 EDA가 예측 성능에 미치는 영향**
    - EDA와 데이터 시각화를 통해 모델링 설계 시 고려사항을 점검하고 방향성을 설정하는 것이 성능 향상에 중요하다는 것을 배웠다.
    - 데이터의 자료형을 정확하게 파악하여 적합한 전처리 방법을 수행하는 것이 미세하더라도 성능을 향상할 수 있음을 경험했다.
- **변수의 중요성**
    - 자동차보험 가입 고객의 특성을 충분히 반영하지 못한 점이 아쉬웠다. 반영하고 싶은 특성을 반영할 수 있도록 추가적으로 데이터를 제공받지 못 한 것이 아쉬웠다.
    - 차량 정보, 보험 조건(담보 내용), 사고 청구 이력 등 더 다양한 고객 정보를 예측에 반영하면 정확한 결과를 도출할 수 있다는 것을 배웠다.
- **현업에서의 커뮤니케이션 역량의 필요성**
    - 분석 결과를 실무진에게 효과적으로 전달하기 위해 분석 기법과 사용 이유를 유기적으로 연결하여 설명해야 한다는 것을 배울 수 있었다.
    - 데이터 분석이 주요 업무가 아닌 실무자들에게 쉽게 이해할 수 있도록 논리적인 스토리텔링이 필요하다는 것을 깨달았다.
